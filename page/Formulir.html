<!-- <!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Formulir Penjualan Sampah</title>
    <link rel="stylesheet" href="../css/bootstrap.min.css">
    <link rel="stylesheet" href="../UUK.css" />
  </head>
  <body>
    <nav class="navbar navbar-dark navbar-expand-lg bg-body-tertiary" style="background-color: #e3f2fd;">
      <div class="container-fluid">
        <a class="navbar-brand" href="#"><img src="../assets/g8.png" alt="" width="50">Bank Sampah</a>
        <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarNavDropdown" aria-controls="navbarNavDropdown" aria-expanded="false" aria-label="Toggle navigation">
          <span class="navbar-toggler-icon"></span>
        </button>
        <div class="collapse navbar-collapse" id="navbarNavDropdown">
          <ul class="navbar-nav">
            <li class="nav-item">
              <a class="nav-link" href="../UUK.html">Home</a>
            </li>
            <li class="nav-item">
              <a class="nav-link" href="Jenis.html">Jenis Sampah</a>
            </li>
            <li class="nav-item active">
              <a class="nav-link active" aria-current="page" href="#">Formulir</a>
            </li>
            <li class="nav-item dropdown">
              <a class="nav-link dropdown-toggle" href="#" role="button" data-bs-toggle="dropdown" aria-expanded="false">
                Kritik & Saran
              </a>
              <ul class="dropdown-menu">
                <li><a class="dropdown-item" href="#">Kritik</a></li>
                <li><a class="dropdown-item" href="#">Saran</a></li>
              </ul>
            </li>
          </ul>
        </div>
      </div>
    </nav>

    <section class="contact-section" id="contact">
      <h2>Formulir Penjualan Sampah</h2>
      <form id="peminjamanForm" class="contact-form">
        <div class="form-group">
          <label for="name">Nama : </label>
          <input type="text" id="name" name="name" required />
        </div>
        <div class="form-group">
          <label for="kelas">Kelas : </label>
          <input type="text" id="kelas" name="kelas" required />
        </div>
        <div class="form-group">
          <label for="email">Email : </label>
          <input type="email" id="email" name="email" required />
        </div>
        <div class="form-group">
          <label for="jenis-sampah">Jenis Sampah: </label>
          <select id="jenis-sampah" name="jenis-sampah" required>
            <option value="" disabled selected>Pilih Jenis Sampah</option>
            <option value="Organik">Organik</option>
            <option value="Anorganik">Anorganik</option>
            <option value="B3">B3</option>
          </select>
        </div>
        <div class="form-group">
          <label for="jh">Jumlah Sampah : </label>
          <input type="number" id="jh" name="jh" max="10" min="1" required />
        </div>
        <button type="submit" class="btn-primary">Simpan</button>
      </form>
    </section>

    <script type="text/javascript">
      document.addEventListener("DOMContentLoaded", function() {
        // Cek apakah ada parameter 'edit' di URL
        const urlParams = new URLSearchParams(window.location.search);
        const editIndex = urlParams.get('edit');
        
        if (editIndex !== null) {
          // Jika ada parameter 'edit', maka isi formulir dengan data yang ada di localStorage
          const dataSampah = JSON.parse(localStorage.getItem("dataSampah")) || [];
          const data = dataSampah[editIndex];

          // Isi formulir dengan data yang ada
          document.getElementById("name").value = data.name;
          document.getElementById("kelas").value = data.kelas;
          document.getElementById("email").value = data.email;
          document.getElementById("jenis-sampah").value = data.jenisSampah;
          document.getElementById("jh").value = data.jumlahSampah;
          
          // Menyimpan perubahan ketika formulir disubmit
          document.getElementById("peminjamanForm").onsubmit = function(event) {
            event.preventDefault();
            
            dataSampah[editIndex] = {
              name: document.getElementById("name").value,
              kelas: document.getElementById("kelas").value,
              email: document.getElementById("email").value,
              jenisSampah: document.getElementById("jenis-sampah").value,
              jumlahSampah: document.getElementById("jh").value,
            };

            // Simpan kembali data yang telah diperbarui ke localStorage
            localStorage.setItem("dataSampah", JSON.stringify(dataSampah));
            alert("Data berhasil diperbarui!");
            window.location.href = "tampilkan_data.html"; // Arahkan kembali ke tampilan data
          };
        } else {
          // Jika tidak ada parameter 'edit', formulir akan menyimpan data baru
          document.getElementById("peminjamanForm").onsubmit = function(event) {
            event.preventDefault();
            const dataSampah = JSON.parse(localStorage.getItem("dataSampah")) || [];

            dataSampah.push({
              name: document.getElementById("name").value,
              kelas: document.getElementById("kelas").value,
              email: document.getElementById("email").value,
              jenisSampah: document.getElementById("jenis-sampah").value,
              jumlahSampah: document.getElementById("jh").value,
            });

            localStorage.setItem("dataSampah", JSON.stringify(dataSampah));
            alert("Data berhasil disimpan!");
            window.location.href = "tampilkan_data.html";
          };
        }
      });
    </script>

    <script src="../js/bootstrap.bundle.js"></script>
  </body>
</html> -->

<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Formulir Penjualan Sampah</title>
    <link rel="stylesheet" href="../css/bootstrap.min.css">
    <link rel="stylesheet" href="../UUK.css" />
</head>
<body>
  <nav class="navbar navbar-dark navbar-expand-lg bg-body-tertiary" style="background-color: #e3f2fd;">
    <div class="container-fluid">
      <a class="navbar-brand" href="#"><img src="../assets/g8.png" alt="" width="50">Bank Sampah</a>
      <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarNavDropdown" aria-controls="navbarNavDropdown" aria-expanded="false" aria-label="Toggle navigation">
        <span class="navbar-toggler-icon"></span>
      </button>
      <div class="collapse navbar-collapse" id="navbarNavDropdown">
        <ul class="navbar-nav">
          <li class="nav-item">
            <a class="nav-link"href="../index.html">Home</a>
          </li>
          <li class="nav-item">
            <a class="nav-link"href="Jenis.html">Jenis Sampah</a>
          </li>
          <li class="nav-item">
            <a class="nav-link active" aria-current="page" href="#">Formulir Sampah</a>
          </li>
          <li class="nav-item">
            <a class="nav-link" href="Saran.html">Kritik & Saran</a>
          </li>
        </ul>
      </div>
    </div>
  </nav>

    <section class="contact-section">
        <h2>Isi Data Penjualan Sampah</h2>
        <p>Penjualan dilakukan secara terpisah / satu persatu</p>
        <form class="contact-form" id="penjualanForm">
            <div class="form-group">
                <label for="name">Nama:</label>
                <input type="text" id="name" class="form-control" required>
            </div>
            <div class="form-group">
                <label for="kelas">Kelas:</label>
                <input type="text" id="kelas" class="form-control" required>
            </div>
            <div class="form-group">
                <label for="email">Email:</label>
                <input type="email" id="email" class="form-control" required>
            </div>
            <div class="form-group">
              <label for="jenis-sampah">Jenis Sampah: </label>
              <select id="jenis-sampah" name="jenis-sampah" required>
                <option value="" disabled selected>Pilih Jenis Sampah</option>
                <option value="Organik">Organik (Rp 10.000)</option>
                <option value="Anorganik">Anorganik (Rp 20.000)</option>
                <option value="B3">B3 (Rp 30.000)</option>
              </select> 
            </div>
            <div class="form-group">
                <label for="jumlah-sampah">Jumlah Sampah (kg):</label>
                <input type="number" id="jumlah-sampah" class="form-control" required>
            </div>
            <button type="submit" class="btn btn-success">Simpan Data</button>
        </form>
    </section>

    <script>
        document.getElementById("penjualanForm").addEventListener("submit", function(e) {
            e.preventDefault(); // Mencegah form untuk tidak langsung submit

            // Ambil data dari form
            const name = document.getElementById("name").value;
            const kelas = document.getElementById("kelas").value;
            const email = document.getElementById("email").value;
            const jenisSampah = document.getElementById("jenis-sampah").value;
            const jumlahSampah = document.getElementById("jumlah-sampah").value;

            // Simpan data ke localStorage
            localStorage.setItem("name", name);
            localStorage.setItem("kelas", kelas);
            localStorage.setItem("email", email);
            localStorage.setItem("jenisSampah", jenisSampah);
            localStorage.setItem("jumlahSampah", jumlahSampah);

            // Arahkan ke halaman struk.html
            window.location.href = "Struk.html";
        });
    </script>

    <script src="../js/bootstrap.bundle.js"></script>
</body>
</html>
